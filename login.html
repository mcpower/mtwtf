<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
</head>
<body>
	<form id="login" onsubmit="return login()">
		<label>Username: <input type="text" name="username"></label><br />
		<label>Password: <input type="password" name="password"></label><br />
		<input type="submit" value="Login">
	</form>
	<script type="text/javascript">
		const ipcRenderer = require('electron').ipcRenderer;
		var form = document.getElementById("login");
		function login() {
			ipcRenderer.send("async-login", form.username.value, form.password.value);
			return false;
		}
		ipcRenderer.on("login-reply", function (event, success) {
			if (success) {
				document.location.href = "postlogin.html";
			} else {
				alert("Invalid credentials.");
			}
		});
	</script>
</body>
</html>
